<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horizontal Animation</title>
    <link rel="stylesheet" href="/css/index.css" type="text/css" media="all" />
    <script type="module" src="/js/index.js">
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
<main>
    <div class="slider-container">
        <ul class="ul-slider">
            <li class="li-animation-in">a</li>
            <li>b</li>
            <li>c</li>
        </ul>
        <nav>
            <a class="prev">prev</a> | <a class="next">next</a>
        </nav>
    </div>
</main>
<script type="module">
let currLi = 0
const $lis = Array.from(document.querySelectorAll(".ul-slider li"))
const NUM_LIS = $lis.length
const LAST_LI = NUM_LIS - 1
    
const $prev = document.querySelector(".prev")
$prev.addEventListener("click", () => {
    currLi = currLi - 1
    if (currLi<0) currLi = 0
    console.log("prev",currLi)
})
const $next = document.querySelector(".next")
$next.addEventListener("click", () => {
    currLi = currLi + 1
    if (currLi>LAST_LI) currLi = LAST_LI
    console.log("next",currLi)
})

const get_li_by_position = position => $lis.filter(($li, pos)=> position===pos)[0] ?? null

const animate = function ( ) {
    const pid = setInterval(() => {
        console.log("animate crulLi",currLi)
        const $li = get_li_by_position(currLi)
        $li.classList.remove("li-animation-in")
        //$li.classList.add("li-animation-out")
        const $li2 = get_li_by_position(currLi+1)
        console.log("li2",$li2)
        $li2.classList.add("li-animation-in")
        currLi = currLi + 1
        if (currLi>LAST_LI) currLi = 0
    },7000)
}
animate()
</script>
</body>
</html>